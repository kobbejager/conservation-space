<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd">

	<!-- Using customChange tasks for updating the ontologies. 
	The class that executes	the task is com.sirma.itt.emf.semantic.patch.UpdateSemanticTask. 
	it has two parameters: 
		- fileName - List of files to be executed on the repository separated with ';' 
		- fileType - type of the files provided by the parameter fileName. all files must be of the same type - RDF, SPARQL or NAMESPACES file - -->

	<changeSet id="emf-semantic-1.0.1" author="kpenev">
		<comment>Initially insert of Proton ontology</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/ontologies/Proton/protontop.ttl" />
			<param name="fileType" value="RDF" />
		</customChange>
	</changeSet>
	
	<changeSet id="emf-semantic-1.0.1-namespaces" author="kpenev" runAlways="true">
		<comment>Initialize default namespaces</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/namespaces/defaultNamespaces.ns" />
			<param name="fileType" value="NAMESPACES" />
		</customChange>
	</changeSet>

	<changeSet id="emf-semantic-1.0.2" author="kpenev">
		<comment>Initially insert of SCOS ontology</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/ontologies/SKOS/skos.rdf" />
			<param name="fileType" value="RDF" />
		</customChange>
	</changeSet>

	<changeSet id="emf-semantic-1.0.3" author="kpenev">
		<comment>Initially insert of DCTERMS ontology</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/ontologies/DC/dcterms.rdf" />
			<param name="fileType" value="RDF" />
		</customChange>
	</changeSet>

	<changeSet id="emf-semantic-1.0.4" author="kpenev">
		<comment>Initially insert of Security ontology</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/ontologies/Security/security.ttl" />
			<param name="fileType" value="RDF" />
		</customChange>
	</changeSet>

	<changeSet id="emf-semantic-1.0.5" author="kpenev">
		<comment>Initially insert of open annotation ontology</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/ontologies/openAnnotation/oa.ttl" />
			<param name="fileType" value="RDF" />
		</customChange>
	</changeSet>

	<changeSet id="emf-semantic-1.0.6" author="kpenev">
		<comment>Initially insert of EMF ontology</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/ontologies/EMFDomainModel/emf.ttl" />
			<param name="fileType" value="RDF" />
		</customChange>
	</changeSet>
	
	<changeSet id="emf-semantic-1.0.7-connector" author="kpenev" runAlways="true">
		<comment>Initially insert of Connectors ontology</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/ontologies/connector/connectors.ttl" />
			<param name="fileType" value="RDF" />
		</customChange>
	</changeSet>
	
	<changeSet id="emf-semantic-1.0.7-connector-instance" author="kpenev" runAlways="true">
		<comment>Initially insert of default connector instance</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/ontologies/connector/default_connector_instance.trig" />
			<param name="fileType" value="RDF" />
		</customChange>
	</changeSet>
	
	<changeSet id="emf-semantic-1.0.7-rdf_type-initialization" author="kpenev">
		<comment>Initialize rdf:type as object property</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/makeRdfTypeObjectProperty.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>

	<changeSet id="semantic-patches-2.0.0-8" author="bbonev">
		<comment>Migrate instance type from case, document, project, task to objectinstance</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/migrateInstanceTypeToObjectInstance.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>

	<changeSet id="semantic-patches-2.0.0-10" author="bbonev">
		<comment>Insert correct emf:instanceType for user and groups</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/migrateInstanceTypeResources.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>

	<changeSet id="semantic-patches-2.0.0-17" author="nvelkov">
		<comment>Mark tasks and workflows as deleted and add a delete reason for later migration if needed.</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/deleteTasksAndWorkflows.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.0.0-18" author="akunchev">
		<comment>Adds isVersionable property and updates instance types with it.</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/addsIsVersionableProperty.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.0.0-19-fix" author="smustafov">
		<comment>Mark emf:publishedBy as object property</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/markPropertiesAsObjectProperty.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.0.0-20" author="akunchev">
		<comment>Adds isVersionable property and updates instance types with it.</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/addsSystemPropertiesForInstanceVersionQueries.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.0.0-20" author="nvelkov">
		<comment>Change saved filter definition id to objectinstance (single instance migration).
		</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName"
				value="patches/migration/migrateSavedFilterDefinitionIdToObjectInstance.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.0.0-21" author="nvelkov">
		<comment>Change saved filters instance types to objectinstance (single instance migration).
		</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName"
				value="patches/migration/migrateSavedFilterInstanceTypeToObjectInstance.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.0.0-22" author="tdossev">
		<comment>Adds new video properties to recognize swf and mp4 files as video files.
		</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName"
				value="patches/migration/addsVideoObjectProperties.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.1.0-23" author="smustafov">
		<comment>Remove owl:DatatypeProperty from emf:completedBy</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/removeDatatypePropertyFromCompletedBy.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.1.0-24" author="vtsonev">
		<comment>Marks emf:Group and emf:isMemberOf as searchable</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName"
				value="patches/migration/markGroupsAndMemberOfAsSearchable.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.1.0-25" author="vtsonev">
		<comment>Marks ptop:hasMember as searchable</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName"
				value="patches/migration/markHasMemberAsSearchable.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.1.0-26" author="bbonev">
		<comment>Add relation properties for automatic permission assignment</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/addAutoAssignPermissions.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.1.0-27" author="vtsonev">
		<comment>Removes the classinstance instanceType</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/deleteClassInstanceType.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.1.0-27" author="nvelkov">
		<comment>Rename saved filter to saved search.</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName"
				value="patches/migration/renameSavedFilterToSavedSearch.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.1.0-28" author="nvelkov">
		<comment>Migrate saved filter objects to saved search.</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName"
				value="patches/migration/migrateSavedFilterObjects.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.1.0-29" author="bbonev">
		<comment>Convert the annotations property emf:commentsOn from literal to URI where needed</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/convertCommentsOnLiteralsToUri.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.1.0-30" author="tdossev">
		<comment>Adds default value of annotation status</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName"
				value="patches/migration/addsAnnotationStateDefaultValue.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.1.0-31" author="kpenev">
		<comment>Adds data properties emf:activityId and emf:stopReason to emf ontology. Adds emf:BusinessProcess to be creatable and part of object library</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName"
				value="patches/inserts/insertActivityProperties.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.1.0-32" author="vtsonev">
		<comment>Adds properties indicating if the class permissions should be inherited from parent or library</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName"
				value="patches/inserts/addsAllowInheritPermissionsProperties.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.1.0-33" author="vtsonev">
		<comment>Inserts libraries' inheritance properties</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName"
				value="patches/inserts/insertLibraryInheritanceProperties.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.1.0-34" author="dtodorova">
		<comment>Adds data properties emf:widthOfSubject, emf:heightOfSubject and emf:dimensionUnit to emf ontology</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName"
				value="patches/inserts/insertDataPropertiesForImage.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.1.0-35" author="dtodorova">
		<comment>Adds emf:SavedSearch to be а part of object library</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName"
				value="patches/inserts/insertSavedSearchIsAPartOfLibrary.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.1.0-36" author="kpenev">
		<comment>Inserts relations for inheriting the permissions of the library by default for every instance that is already created</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName"
				value="patches/inserts/insertInheritedLibraryPermissions.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.1.0-37-updated" author="kpenev">
		<comment>Add data properties for User or Person - im, country, mobile and organization</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertPersonDataProperties.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.1.0-38" author="kpenev">
		<comment>Add data property emf:transitionMatrix for workflows</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertPropertyTransitionMatrix.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.1.0-39" author="kpenev">
		<comment>Remove inferring ptop:partOf when attaching instance to another instance. The pathc removes the relation rdfs:subPropertyOf from emf:hasAttachment and emf:isAttachedTo</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/removePartOfWhenAttaching.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.1.0-40" author="mradkov">
		<comment>Inserts range for emf:duration property</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertRangeForDuration.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.1.0-41" author="bbonev">
		<comment>Changes users to be loaded as object instances</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/changeUserAndGroupDefinitionIdToObjectInstance.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/migrateGroupsAsObjectInstance.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/migrateUsersAsObjectInstance.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.1.0-42" author="hlungov">
		<comment>Inserts OCR properties</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertOCRProperties.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.1.0-43" author="akunchev">
		<comment>Fixes wrong users URIs - replaces [@] with [-]</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/migrateUsersWithWrongUri.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.1.0-44" author="bbonev">
		<comment>Remove emf:viewContentId from the model. It's not need to be persisted</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/removeEmfViewContentId.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.1.0-45" author="akunchev">
		<comment>Restores back lost versions numbers for users and groups</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.RecoverUsersAndGroupsVersionPatch" />
	</changeSet>
	<changeSet id="semantic-patches-2.1.0-46" author="bbonev">
		<comment>Remove invalid content created due to a bug in content extraction</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/removeInvalidContent.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.2.0-1" author="akunchev">
		<comment>Removes duplicated users with wrong URIs</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/removeDuplicatedUsersWithWrongUris.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.2.0-2" author="aradeva">
		<comment>Add data property emf:outcome for workflows</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertPropertyOutcome.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.2.0-2" author="nvelkov">
		<comment>Inserts the help classes to the semantic</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertHelpClasses.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.2.0-3" author="bbonev">
		<comment>Adds the ontology information about emf:auditEvent</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/addEmfAuditEventOntologyData.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.2.0-4" author="dtodorova">
		<comment>Add emf:auditEvent to emf:hasAssignee, emf:isAssigneeOf, emf:hasThumbnail, emf:isThumbnailOf, emf:owner, emf:ownedBy in emf.ttl</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertAuditEventForObjectProperties.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.2.0-5" author="aradeva">
		<comment>Add data property emf:taskNotes related to the task outcome</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertPropertyTaskNotes.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.2.0-6" author="nvelkov">
		<comment>Added inherited library permissions to Help</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/addHelpInheritLibraryPermissions.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>

	<changeSet id="semantic-patches-2.3.0-1" author="aradeva">
		<comment>Add inheritance properties to Workflow library</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/addWorkflowsInheritLibraryPermissions.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>

	<changeSet id="semantic-patches-2.4.0-1" author="bbonev">
		<comment>Enable revision properties to be searchable</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/enableRevisionPropertiesToBeSearchable.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>

	<changeSet id="semantic-patches-2.4.0-2" author="kpenev">
		<comment>Add EAI Classes - emf:DataImportSource, emf:DataImportReport</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertEAIClasses.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.4.0-3" author="aradeva">
		<comment>Add data property emf:imported</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertPropertyImported.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.4.0-4" author="aradeva">
		<comment>update data property emf:imported to be emf:integrated</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/updatePropertyImportedToBeIntegrated.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.4.0-5" author="hlungov">
		<comment>Insert permissions over pooled task relations.</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertPooledTaskRelationsPermissions.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.4.0-6" author="hlungov">
		<comment>Insert emf:isSearchable to pooled task relations.</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertIsSearchableToPoolRelations.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.4.0-7" author="gshefkedov">
		<comment>Update emf:isCreatable property of emf:DataImportReport</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/updateDataImportReportIsCreatableProperty.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.5.0-1" author="vtsonev">
		<comment>Insert new class - emf:Template</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertTemplateClass.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.5.0-3-2" author="kpenev">
		<comment>Remove Duplicate assignees to permission roles for instances</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.RemoveDuplicateSecurityRoles" />
	</changeSet>
	<changeSet id="semantic-patches-2.6.0-1" author="hlungov">
		<comment>Inserts relation emf:hasTemplate</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertEmfHasTemplateRelation.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.6.0-2" author="akunchev">
		<comment>Removes sub property parentOf from hasRevision link</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/removeParentOfSubpropertyFromHasRevisionLink.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.6.0-3" author="btonchev">
		<comment>Inserts viewWidgetContent property</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertViewWidgetContent.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.6.0-4" author="hlungov">
		<comment>Delete hasChild DefinitionObjectProperty statement</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/update/deleteHasChildDefinitionObjectProperty.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.7.0-1" author="bbonev">
		<comment>Correct remove child relations for users due to invalid synchronization definitions</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/fixUserChildRelations.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.7.0-2" author="kpenev">
		<comment>Insert default relation emf:hasRelation</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertEmfHasRelation.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.7.0-3" author="hlungov">
		<comment>Deletes emf:address domain and range</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/update/deleteAddressDomainAndRange.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.8.0-1" author="vtsonev">
		<comment>Insert templateRule and templateRuleDescription properties</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertTemplateRuleProperties.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.9.0-1" author="amitev">
		<comment>Inserts emf:templateVersion property</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertTemplateVersionProperty.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.10.0-1" author="smustafov">
		<comment>Deletes the forbidden role and removes the mapping with no permission role</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/deleteForbiddenRole.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.10.0-2" author="aradeva">
		<comment>Update descriptions of Help, Data Import and Data Report classes</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/updateDescriptionOfDomainClasses.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.10.0-3" author="btonchev">
		<comment>Remove Duplicate property emf:version instances</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.RemoveDuplicateEmfVersionProperties" />
	</changeSet>
	<changeSet id="semantic-patches-2.12.0-1" author="vtsonev">
		<comment>Insert part of ontology property</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertPartOfOntologyProperty.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.12.0-2" author="bbonev">
		<comment>Enable emf:User creation</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/enableUserCreation.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.12.0-3" author="kpenev">
		<comment>Inserts properties emf:inWorkflow, emf:associatedWith an emf:isMemberOfCollection</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertProperties_InWorkflow_AssociatedWith_IsMemberOfCollection.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.13.0-1" author="bbonev">
		<comment>Enable emf:Group creation</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/enableGroupCreation.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.13.0-2" author="kpenev">
		<comment>Inserts class descriptions for skos:Concept, skos:ConceptScheme and skos:Collection. They are made creatable and searchable</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertSkosClassDescriptions.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.14.0-1" author="kpenev">
		<comment>Make class emf:Help uploadable</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/enableUploadableClassHelp.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.14.0-2" author="aradeva">
		<comment>Add new class Issue and insert its properties</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertIssueClassAndProperties.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.14.0-3" author="aradeva">
		<comment>Add icons for the new class Issue</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/addDefaultIconsForIssueClass.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.14.0-4" author="bbonev">
		<comment>Add emf:altTitle to EMF ontology</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertEmfAltTitle.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.14.0-5" author="kpenev">
		<comment>Updated domain and range of emf:owned and emf:ownedBy</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/fixOwnerAndOwnedByDomainRange.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.14.0-6" author="kpenev">
		<comment>Migrated existing instances that has predicates emf:owner and emf:ownedBy</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/updateOwnedByAndOwner.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.14.0-7" author="aradeva">
		<comment>Remove domain and range of hasReporter/isReporterOf</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/removeDomainAndRangeOfReportersRelations.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.15.0-1" author="nganova">
		<comment>Add new property uniqueId to EMF ontology</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertUniqueIdProperty.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.17.0-1" author="aradeva">
		<comment>Update Import/Report subcalsses to be object in EMF ontology</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/updateEAIsubclasses.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.17.0-3-fix2" author="viktorRibchev">
		<comment>Update inheritance permissions for some libraries</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/updateLibraryPermissions.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.17.0-4" author="viktorRibchev">
		<comment>Remove duplicate label for AnnotationProperty</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/removeDuplicatedLabelFieldForDefinitionId.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.18.0-1" author="gangelova">
		<comment>Add emf:auditEvent to emf:references, emf:dependsOn, emf:isRelatedTo, emf:hasAttachment, emf:isAttachedTo, emf:blocks, emf:isBlockedBy, emf:processes, emf:processedBy, emf:contactPerson, emf:hasAgent, emf:isAgentOf, emf:isMemberOf, emf:hasWatcher, emf:isWatcherOf, emf:hasPrimaryImage and emf:isPrimaryImageOf in emf.ttl</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertAuditEventsForEmfObjectProperties.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.18.0-2" author="smustafov">
		<comment>Remove duplicate dcterms:title for groups</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.RemoveDuplicateTitlesOfGroups" />
	</changeSet>
	<changeSet id="semantic-patches-2.18.0-3" author="kpenev">
		<comment>Update property hierarchy so Definition properties are sub-classes of the proper OWL classes</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertPropertyClassesHierarchy.trig" />
			<param name="fileType" value="RDF" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.19.0-1" author="smustafov">
		<comment>Change the system user to the proper one</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.ChangeSystemUser" />
	</changeSet>
	<changeSet id="semantic-patches-2.19.0-2" author="btonchev">
		<comment>Remove "insertExistingInContext" from EMF ontology, if any</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/update/deleteExistingInContext.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.20.0-1" author="akunchev">
	<comment>Removes all data for latest revision objects</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/removeAllDataForLatestRevisions.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.20.0-2" author="btonchev">
		<comment>Add RecordSpace library</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertRecordSpaceLibrary.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.20.0-3" author="btonchev">
		<comment>Update all triplets "rdfs:subClassOf emf:Library" to "rdfs:subClassOf ptop:Object"</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/update/updateSubClassesOfEmfLibrary.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.22.0-1" author="gangelova">
		<comment>Remove range of emf:isDuplicatedBy</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/removeRangeFromIsDuplicatedBy.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.22.0-2" author="gangelova">
		<comment>Remove range from skos:member</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/removeRangeFromSkosMember.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.22.0-3" author="gangelova">
		<comment>Remove all subclasses from emf:DomainObject and move in others.</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/updateDomainObjectSubclasses.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.22.0-4" author="gangelova">
		<comment>Delete emf:DomainObject and emf:DomainUser</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/removeDomainObjectAndDomainUser.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.22.0-5" author="gangelova">
		<comment>Insert File, Folder, Meeting, Product, Service and Space classes</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertEMFClasses.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.22.0-6" author="gangelova">
		<comment>Remove ComplexValue, DatedConcept, Discussion, DocumentSection, IntelligentDocument, Library, Tag and Version classes. Remove inWorkflow object property.</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/removeEMFClasses.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.22.0-7" author="btonchev">
		<comment>Updates unregistered data types. Add necessary triplets</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertUnregisteredDataTypeProperties.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.22.0-8" author="gangelova">
		<comment>Add emf:classCategory and emf:definitionId on DataImportReport and DataImportSource classes.</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertDataImportProperties.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
  	<changeSet id="semantic-patches-2.22.0-9" author="gangelova">
		<comment>Add missed data and object properties from emf.ttl.</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/addDataAndObjProperties.sparql" />
            <param name="fileType" value="SPARQL" />
        </customChange>
    </changeSet>
  	<changeSet id="semantic-patches-2.22.0-10" author="gangelova">
		<comment>Add missed language labels from emf.ttl.</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/addLanguageLabels.sparql" />
            <param name="fileType" value="SPARQL" />
        </customChange>
   	</changeSet>
   	<changeSet id="semantic-patches-2.22.0-11" author="vribchev">
		<comment>Changed label of Record Space.</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/update/updateRecordSpaceLable.sparql" />
            <param name="fileType" value="SPARQL" />
        </customChange>
    </changeSet>
    <changeSet id="semantic-patches-2.22.0-12" author="dglezev">
		<comment>Add missed Bg labels from emf.ttl.</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/addMissingBgLabels.sparql" />
            <param name="fileType" value="SPARQL" />
        </customChange>
    </changeSet>
    <changeSet id="semantic-patches-2.22.0-13" author="dglezev">
		<comment>Delete duplicated labels from emf.ttl.</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/update/deleteDuplicatedLabels.sparql" />
            <param name="fileType" value="SPARQL" />
        </customChange>
    </changeSet>
    <changeSet id="semantic-patches-2.22.0-14" author="gangelova">
		<comment>Rename emf:Group class</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/update/updateGroupLabels.sparql" />
            <param name="fileType" value="SPARQL" />
        </customChange>
    </changeSet>
    <changeSet id="semantic-patches-2.22.0-15" author="gangelova">
		<comment>Change subClass on emf:Service</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/migration/updateSubClassOnEmfService.sparql" />
            <param name="fileType" value="SPARQL" />
        </customChange>
    </changeSet>
	<changeSet id="semantic-patches-2.22.0-16" author="btonchev">
		<comment>Updates unregistered data types part two. Add necessary triplets</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/insertUnregisteredDataTypePropertiesPartTwo.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.22.0-17" author="gangelova">
		<comment>Add missed properties on searchable classes.</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/addMissedClassProperties.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
	<changeSet id="semantic-patches-2.23.0-01" author="aradeva">
		<comment>Add Danish language labels to emf.ttl</comment>
		<customChange class="com.sirma.itt.emf.semantic.patch.UpdateSemanticTask">
			<param name="fileName" value="patches/inserts/addDanishLabels.sparql" />
			<param name="fileType" value="SPARQL" />
		</customChange>
	</changeSet>
</databaseChangeLog>